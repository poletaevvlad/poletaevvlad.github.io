---
layout: base
---

<header id="header">
  <div class="content">
    <nav id="header-nav">
      {% for link in site.navigation %}
        <a href="{{ link.url }}">{{ link.label }}</a>
      {% endfor %}
    </nav>

    <h1>{{ page.title }}</h1>
    <nav id="variants">
      <a href="/" class="current">eng</a>
      <a href="/rus/">rus</a>
    </nav>
  </div>
</header>

<div id="body">
  <main class="content">
    <section class="projects-list">
      <h2>My Open Source Pet Projects</h2>

      {% for project in site.data.projects %}
        <article class="project">
          {% if project.repo %}
            {% assign repo = site.data.repos_info[project.repo.owner][project.repo.name] %}
          {% else %}
            {% assign repo = null %}
          {% endif %}
          <h3>
            {% if project.name %}
              {{ project.name }}
            {% else %}
              {{ repo.name }}
            {% endif %}
          </h3>
          {% if project.description %}
            {{ project.description | markdownify }}
          {% else %}
            <p>{{ repo.description }}</p>
          {% endif %}

          {% if project.extra %}
            <div class="extra">
              {% for entry in project.extra %}
                <div class="extra_row">
                  <div class="extra_label">{{ entry.label }}</div>
                  <div class="extra_content">{{ entry.content }}</div>
                </div>
              {% endfor %}
            </div>
          {% endif %}

          {% if repo %}
            <div class="repo_stats">
              <div class="stats_numeric">
                <div class="stat_commits_count">
                  {{ repo.commits_count }}
                  <div class="stat_description">Commits count</div>
                </div>
                {% if repo.stars > 0 %}
                  <div class="stat_stars_count">
                    {{ repo.stars }}
                    <div class="stat_description">Stargazers count</div>
                  </div>
                {% endif %}
              </div>

              <div class="stats_languages">
                {% for language in repo.languages %}
                  {% assign color=site.data.languages[language.language] %}
                  <div class="stats_language_entry" style="width: {{ language.weight | times:100 }}%;{% if color %} background-color: {{ color }}{% endif %}"></div>
                {% endfor %}
              </div>

              <div class="stats_languages_details">
                {% for language in repo.languages %}
                  <span class="stats_language_text">
                    {% assign color=site.data.languages[language.language] %}
                    <span class="stats_language_color"{% if color %} style="background-color: {{ color }}"{% endif %}></span>
                    {{ language.language }}
                    <span class="stats_language_percentage">
                      ({{ language.weight | times:100 | round:1 }}%)
                    </span>
                  </span>
                {% endfor %}
              </div>

              <div class="stats_link">
                <a href={{ repo.url }}>
                  /{{ project.repo.owner }}/{{ project.repo.name }}
                </a>
              </div>
            </div>
          {% endif %}
        </article>
      {% endfor %}
    </section>
  </main>
</div>
